<div class="space-y-10">
  <%= link_to "â† Continue shopping", products_path, class: "text-sm font-semibold text-slate-500 hover:text-slate-900" %>

  <div class="grid gap-10 lg:grid-cols-2">
    <div class="overflow-hidden rounded-3xl border border-slate-200 bg-white shadow">
      <% if @product.image_url.present? %>
        <%= image_tag @product.image_url, class: "h-full w-full object-cover", alt: @product.name %>
      <% else %>
        <div class="flex h-96 items-center justify-center text-slate-400">Image coming soon</div>
      <% end %>
    </div>
    <div class="space-y-6 rounded-3xl border border-slate-200 bg-white/80 p-8 shadow-sm">
      <p class="text-xs font-semibold uppercase tracking-[0.3em] text-slate-400"><%= @product.category.name %></p>
      <div>
        <h1 class="text-3xl font-semibold text-slate-900"><%= @product.name %></h1>
        <p class="mt-3 text-slate-600"><%= simple_format(@product.description) %></p>
      </div>
      <div class="flex items-baseline gap-4">
        <p class="text-4xl font-semibold text-slate-900"><%= currency(@product.price_cents) %></p>
        <p class="text-sm font-medium text-emerald-600">In stock: <%= @product.stock %></p>
      </div>
      <%= form_with url: add_item_cart_path, method: :post, class: "space-y-4" do %>
        <%= hidden_field_tag :product_id, @product.id %>
        <div>
          <label class="text-xs font-semibold uppercase tracking-wide text-slate-500">Quantity</label>
          <%= number_field_tag :quantity, 1, min: 1, max: @product.stock, class: "mt-2 w-32 rounded-xl border border-slate-200 px-4 py-2.5 text-sm focus:border-slate-900 focus:ring-slate-900/10" %>
        </div>
        <div class="flex flex-wrap gap-4">
          <%= submit_tag "Add to cart", class: "flex-1 rounded-full bg-slate-900 px-6 py-3 text-center text-sm font-semibold text-white shadow-lg shadow-slate-900/30 transition hover:-translate-y-0.5 sm:flex-none sm:min-w-[200px]" %>
          <%= link_to "Go to cart", cart_path, class: "flex-1 rounded-full border border-slate-900 px-6 py-3 text-center text-sm font-semibold text-slate-900 sm:flex-none sm:min-w-[200px]" %>
        </div>
      <% end %>
    </div>
  </div>

  <% if @related_products.any? %>
    <div class="space-y-4">
      <h2 class="text-2xl font-semibold text-slate-900">Related picks</h2>
      <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-4">
        <%= render partial: "product_card", collection: @related_products, as: :product %>
      </div>
    </div>
  <% end %>
</div>
